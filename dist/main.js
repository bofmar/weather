(()=>{"use strict";function e(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function t(t){e(1,arguments);var n=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===n?new Date(t.getTime()):"number"==typeof t||"[object Number]"===n?new Date(t):("string"!=typeof t&&"[object String]"!==n||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function n(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}document.querySelector("body");const i=document.getElementById("time"),o=document.getElementById("location"),m=document.getElementById("temperature"),r=document.getElementById("description"),a=document.getElementById("feels"),c=(document.getElementById("humidity-image"),document.getElementById("humidity")),d=(document.getElementById("min-image"),document.getElementById("min")),s=(document.getElementById("max-image"),document.getElementById("max")),u=(document.getElementById("wind-image"),document.getElementById("wind")),l=(document.getElementById("visibility-image"),document.getElementById("visibility")),g=document.getElementById("search-bar"),y=document.getElementById("search-button"),p=document.getElementById("units");let f="celsius";function b(e){return`${(Number(e)-273.15).toPrecision(3)} ℃`}function h(e){return`${(1.8*(Number(e)-273.15)+32).toPrecision(4)} ℉`}async function E(g){try{const y=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${g}&APPID=eed84943e5486d8a117b70b7eaf2d745`,{mode:"cors"}),p=await y.json();console.log(p),function(g,y="celsius"){var p,f;i.innerText=(p=g.dt,f=function(i){return e(1,arguments),t(1e3*n(i))}(p).toString(),f.split(" ").splice(0,5).join(" ")),o.innerText=`${g.name}, ${g.sys.country}`,"celsius"===y?(m.innerText=b(g.main.temp),a.innerText=b(g.main.feels_like),d.innerText=b(g.main.temp_min),s.innerText=b(g.main.temp_max)):(m.innerText=h(g.main.temp),m.innerText=h(g.main.feels_like),d.innerText=h(g.main.temp_min),s.innerText=h(g.main.temp_max)),r.innerText=g.weather[0].main,c.innerText=`${g.main.humidity}% Humidity`,u.innerText=`${g.wind.speed} km/h`,l.innerText=`${(g.visibility/1e3).toPrecision(3)} km/h`}(p,f)}catch{console.log("oops")}}y.addEventListener("click",(()=>{E(g.value)})),p.addEventListener("click",(()=>{f="celsius"===f?"farenheit":"celsius",p.innerText="celsius"===f?"℃":"℉",E(g.value||"London")})),E("London")})();