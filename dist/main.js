(()=>{document.querySelector("body"),document.getElementById("time");const e=document.getElementById("location"),t=document.getElementById("temperature"),n=document.getElementById("description"),i=document.getElementById("feels"),m=(document.getElementById("humidity-image"),document.getElementById("humidity")),d=(document.getElementById("min-image"),document.getElementById("min")),o=(document.getElementById("max-image"),document.getElementById("max")),c=(document.getElementById("wind-image"),document.getElementById("wind")),a=(document.getElementById("visibility-image"),document.getElementById("visibility")),u=document.getElementById("search-bar"),l=document.getElementById("search-button"),r=document.getElementById("units");let s="celsius";function y(e){return`${(Number(e)-273.15).toPrecision(3)} ℃`}function g(e){return`${(1.8*(Number(e)-273.15)+32).toPrecision(4)} ℉`}async function E(u){try{const l=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${u}&APPID=eed84943e5486d8a117b70b7eaf2d745`,{mode:"cors"}),r=await l.json();console.log(r),function(u,l="celsius"){e.innerText=`${u.name}, ${u.sys.country}`,"celsius"===l?(t.innerText=y(u.main.temp),i.innerText=y(u.main.feels_like),d.innerText=y(u.main.temp_min),o.innerText=y(u.main.temp_max)):(t.innerText=g(u.main.temp),t.innerText=g(u.main.feels_like),d.innerText=g(u.main.temp_min),o.innerText=g(u.main.temp_max)),n.innerText=u.weather[0].main,m.innerText=`${u.main.humidity}% Humidity`,c.innerText=`${u.wind.speed} km/h`,a.innerText=`${(u.visibility/1e3).toPrecision(3)} km/h`}(r,s)}catch{console.log("oops")}}l.addEventListener("click",(()=>{E(u.value)})),r.addEventListener("click",(()=>{s="celsius"===s?"farenheit":"celsius",r.innerText="celsius"===s?"℃":"℉",E(u.value||"London")})),E("London")})();